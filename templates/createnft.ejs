<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create NFT</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-r from-slate-950 to-indigo-950">
    <%- include('header'); -%>

        <div class="bg-gradient-to-r from-indigo-950 to-indigo-800 px-8 py-10 w-1/2 sm:w-72 sm:px-4  rounded-xl mx-auto mt-5">
            <h1 class="text-indigo-200 text-3xl font-bold pb-3 sm:text-xl">CREATE NFT</h1>
            <form action="" method="post" id="createnftform">
                <div class="form-group mt-3">
                    <label class="text-indigo-200">NFT Name:</label>
                    <input type="text" class="w-full h-10 pl-2 border rounded-lg border-indigo-200 bg-transparent text-indigo-200 mt-2"
                        name="nftname" id="nftname" aria-describedby="helpId" required>

                </div>

                <div class="form-group mt-3">
                    <label class="text-indigo-200">NFT URL:</label>
                    <input type="url" class="w-full h-10 pl-2 border rounded-lg border-indigo-200 bg-transparent text-indigo-200 mt-2"
                        name="nfturl" id="nfturl" aria-describedby="helpId" required>

                </div>

                <div class="form-group mt-3">
                    <label class="text-indigo-200">NFT Description:</label>
                    <textarea class="w-full h-10 pl-2 border rounded-lg border-indigo-200 bg-transparent text-indigo-200 mt-2"
                        name="nftdesc" id="nftdesc" rows="3" required></textarea>
                </div>

                <input type="submit" value="CREATE"
                    class="bg-transparent mt-5 ring-1 ring-indigo-400 rounded-md font-bold text-indigo-200 px-5 py-2 hover:ring-white">

            </form>

        </div>

      

        <div id="alertm" class="absolute block bottom-6 right-2 rounded-lg border-l-4 border-indigo-950 bg-gradient-to-r from-indigo-400 to-indigo-200 w-1/3 sm:w-72">
            <p class="py-3 px-2 text-indigo-950 font-bold"><%= message %></p>
        </div> 

        <%- include('footer'); -%>
        

        <script src="./apis/patrawallet.js"></script>
        <script>

            let alertm = document.getElementById("alertm");
            let createnftform = document.getElementById("createnftform");

            let nftname = document.getElementById("nftname");
            let nfturl = document.getElementById("nfturl");
            let nftdesc = document.getElementById("nftdesc");

            createnftform.addEventListener("submit",async(e)=>{
                e.preventDefault();
                await CreateNFT(nftname.value,nftdesc.value,nfturl.value);

                createnftform.reset();
                alertm.firstChild.textContent = "NFT successfully created!";
                alertm.classList.add("hidden");
                alertm.classList.add("block");

                setTimeout(()=>{
                if(alertm.classList.contains("block")){
                    alertm.classList.remove("block");
                    alertm.classList.add("hidden");
                }
               
                },3000)
            });
            

            setTimeout(()=>{
                if(alertm.classList.contains("block")){
                    alertm.classList.remove("block");
                    alertm.classList.add("hidden");
                }
               
            },3000)
        </script>

</body>

</html>